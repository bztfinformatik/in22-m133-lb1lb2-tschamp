{% extends 'base.html' %}

{% block body %}
<h2>All Appointments</h2>

<table class="table">
  <thead>
    <tr>
      <th scope="col">Termin ID</th>
      <th scope="col">Lehrer ID</th>
      <th scope="col">Schüler Name</th>
      <th scope="col">Datum</th>
      <th scope="col">Uhrzeit</th>
      <th scope="col">Dauer (Minuten)</th>
      <th scope="col">Status</th>
      <th scope="col">Raum</th>
      <th scope="col">Notizen</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for termin in termine %}
    <tr>
      <td>{{ termin.termin_id }}</td>
      <td>{{ termin.lehrer_id }}</td>
      <td>{{ termin.schueler_name }}</td>
      <td>{{ termin.datum }}</td>
      <td>{{ termin.uhrzeit }}</td>
      <td>{{ termin.dauer_minuten }}</td>
      <td>{{ termin.status }}</td>
      <td>{{ termin.raum }}</td>
      <td>{{ termin.notizen }}</td>
      <td>
        <a class="btn btn-outline-secondary" href="/appointments/edit?termin_id={{ termin.termin_id }}">✏️</a>
        <form action="/appointments/delete" method="post" style="display: inline;">
          <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
          <input type="hidden" name="termin_id" value="{{ termin.termin_id }}">
          <a class="btn btn-outline-secondary" href="#" onclick="deleteAppointment(this); return false;">🗑️</a>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
